<!doctype=html>
<html>
	<head>
		<title>Reaction speed tester</title>
		
		<style type="text/css">

			body {
				font-family:Arial, Helvetica, sans-serif;
			}
			
			#shape {
				width:200px;
				height:200px;
				background-color:red;
				display:none;
				position:relative;
				top:100px;
				left:200px;
			}
		
		</style>
	
	</head>
	
	<body>
	
		<h1>Chapter 3 - Reaction speed tester</h1>
		<h2>How fast can you click shapes?</h2>

		<p>Your time: <span id="timeTaken"></span> second(s)</p>
		<div id="shape"></div>
	
		<script type="text/javascript">
		
			var start = new Date().getTime();
			
			function makeShape() {
			
				var top = Math.random() * 600;
				
				var left = Math.random() * 800;
				
				var wAndH = (Math.random() * 200) + 100;
				
				if (Math.random()>0.5){
					document.getElementById('shape').style.borderRadius = "50%";
				} else {
					document.getElementById('shape').style.borderRadius = "0%";
				}

				function randomColor() {
					var hex = '0123456789ABCDEF'.split('');
					var randomcolor = '#';
					for (var i = 0; i < 6; i++){
						randomcolor += hex[Math.floor(Math.random() * 16)];
					}
					return randomcolor
				}
			
				document.getElementById('shape').style.top = top + "px";
				document.getElementById('shape').style.left = left + "px";
				document.getElementById('shape').style.width = wAndH + "px";
				document.getElementById('shape').style.height = wAndH + "px";
				document.getElementById('shape').style.backgroundColor = randomColor();
				
			
				document.getElementById("shape").style.display = "block";
			
				start = new Date().getTime();
				
			}
			
			function delay() {
			
				setTimeout(makeShape, Math.random() * 2000);
			
			}
			
			delay();
			
			document.getElementById("shape").onclick = function () {
				
				document.getElementById("shape").style.display = "none";
				
				var end = new Date().getTime();
				
				var timeTaken = (end - start) / 1000;

				document.getElementById("timeTaken").innerHTML = timeTaken;
				
				//makeShape();
				
				delay();
			}
		
		</script>
	
	</body>
	
</html>